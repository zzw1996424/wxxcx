(function(a){function t(a){return Object.prototype.toString.call(a)=="[object Function]"}function u(a){return Object.prototype.toString.call(a)=="[object Array]"}function v(a,b){var c=/^\w+\:\/\//;return/^\/\/\/?/.test(a)?a=location.protocol+a:!c.test(a)&&a.charAt(0)!="/"&&(a=(b||"")+a),c.test(a)?a:(a.charAt(0)=="/"?j:i)+a}function w(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function x(a){var b=!1;for(var c=0;c<a.scripts.length;c++)a.scripts[c].ready&&a.scripts[c].exec_trigger&&(b=!0,a.scripts[c].exec_trigger(),a.scripts[c].exec_trigger=null);return b}function y(a,b,c,d){a.onload=a.onreadystatechange=function(){if(a.readyState&&a.readyState!="complete"&&a.readyState!="loaded"||b[c])return;a.onload=a.onreadystatechange=null,d()}}function z(a){a.ready=a.finished=!0;for(var b=0;b<a.finished_listeners.length;b++)a.finished_listeners[b]();a.ready_listeners=[],a.finished_listeners=[]}function A(a,b,d,e,f){setTimeout(function(){var h,i=b.real_src,l;if("item"in k){if(!k[0]){setTimeout(arguments.callee,25);return}k=k[0]}h=document.createElement("script"),b.type&&(h.type=b.type),b.charset&&(h.charset=b.charset),f?q?(a[g]&&m("start script preload: "+i),d.elem=h,p?(h.preload=!0,h.onpreload=e):h.onreadystatechange=function(){h.readyState=="loaded"&&e()},h.src=i):f&&i.indexOf(j)==0&&a[c]?(l=new XMLHttpRequest,a[g]&&m("start script preload (xhr): "+i),l.onreadystatechange=function(){l.readyState==4&&(l.onreadystatechange=function(){},d.text=l.responseText+"\n//@ sourceURL="+i,e())},l.open("GET",i),l.send()):(a[g]&&m("start script preload (cache): "+i),h.type="text/cache-script",y(h,d,"ready",function(){k.removeChild(h),e()}),h.src=i,k.insertBefore(h,k.firstChild)):r?(a[g]&&m("start script load (ordered async): "+i),h.async=!1,y(h,d,"finished",e),h.src=i,k.insertBefore(h,k.firstChild)):(a[g]&&m("start script load: "+i),y(h,d,"finished",e),h.src=i,k.insertBefore(h,k.firstChild))},0)}function B(){function r(a,b,c){function f(){d!=null&&(d=null,z(c))}var d;if(o[b.src].finished)return;a[e]||(o[b.src].finished=!0),d=c.elem||document.createElement("script"),b.type&&(d.type=b.type),b.charset&&(d.charset=b.charset),y(d,c,"finished",f),c.elem?c.elem=null:c.text?(d.onload=d.onreadystatechange=null,d.text=c.text):d.src=b.real_src,k.insertBefore(d,k.firstChild),c.text&&f()}function C(a,b,c,d){var g,i,j=function(){b.ready_cb(b,function(){r(a,b,g)})},k=function(){b.finished_cb(b,c)};b.src=v(b.src,a[h]),b.real_src=b.src+(a[f]?(/\?.*$/.test(b.src)?"&_":"?_")+~~(Math.random()*1e9)+"=":""),o[b.src]||(o[b.src]={items:[],finished:!1}),i=o[b.src].items,a[e]||i.length==0?(g=i[i.length]={ready:!1,finished:!1,ready_listeners:[j],finished_listeners:[k]},A(a,b,g,d?function(){g.ready=!0;for(var a=0;a<g.ready_listeners.length;a++)g.ready_listeners[a]();g.ready_listeners=[]}:function(){z(g)},d)):(g=i[0],g.finished?k():g.finished_listeners.push(k))}function D(){function k(a,c){b[g]&&m("script preload finished: "+a.real_src),a.ready=!0,a.exec_trigger=c,o()}function l(a,c){b[g]&&m("script execution finished: "+a.real_src),a.ready=a.finished=!0,a.exec_trigger=null;for(var d=0;d<c.scripts.length;d++)if(!c.scripts[d].finished)return;c.finished=!0,o()}function o(){while(e<c.length){if(t(c[e])){b[g]&&m("$LAB.wait() executing: "+c[e]);try{c[e++]()}catch(a){b[g]&&n("$LAB.wait() error caught: ",a)}continue}if(!c[e].finished){if(x(c[e]))continue;break}e++}e==c.length&&(f=!1,h=!1)}function p(){(!h||!h.scripts)&&c.push(h={scripts:[],finished:!0})}var a,b=w(i,{}),c=[],e=0,f=!1,h;return a={script:function(){for(var c=0;c<arguments.length;c++)(function(c,e){var g;u(c)||(e=[c]);for(var i=0;i<e.length;i++){p(),c=e[i],t(c)&&(c=c());if(!c)continue;if(u(c)){g=[].slice.call(c),g.unshift(i,1),[].splice.apply(e,g),i--;continue}typeof c=="string"&&(c={src:c}),c=w(c,{ready:!1,ready_cb:k,finished:!1,finished_cb:l}),h.finished=!1,h.scripts.push(c),C(b,c,h,j&&f),f=!0,b[d]&&a.wait()}})(arguments[c],arguments[c]);return a},wait:function(){if(arguments.length>0){for(var b=0;b<arguments.length;b++)c.push(arguments[b]);h=c[c.length-1]}else h=!1;return o(),a}},{script:a.script,wait:a.wait,setOptions:function(c){return w(c,b),a}}}var i={},j=q||s,l=[],o={},p;return i[c]=!0,i[d]=!1,i[e]=!1,i[f]=!1,i[g]=!1,i[h]="",p={setGlobalDefaults:function(a){return w(a,i),p},setOptions:function(){return D().setOptions.apply(null,arguments)},script:function(){return D().script.apply(null,arguments)},wait:function(){return D().wait.apply(null,arguments)},queueScript:function(){return l[l.length]={type:"script",args:[].slice.call(arguments)},p},queueWait:function(){return l[l.length]={type:"wait",args:[].slice.call(arguments)},p},runQueue:function(){var a=p,b=l.length,c=b,d;for(;--c>=0;)d=l.shift(),a=a[d.type].apply(null,d.args);return a},noConflict:function(){return a.$LAB=b,p},sandbox:function(){return B()}},p}var b=a.$LAB,c="UseLocalXHR",d="AlwaysPreserveOrder",e="AllowDuplicates",f="CacheBust",g="Debug",h="BasePath",i=/^[^?#]*\//.exec(location.href)[0],j=/^\w+\:\/\/\/?[^\/]+/.exec(i)[0],k=document.head||document.getElementsByTagName("head"),l=a.opera&&Object.prototype.toString.call(a.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,m=function(){},n=m,o=document.createElement("script"),p=typeof o.preload=="boolean",q=p||o.readyState&&o.readyState=="uninitialized",r=!q&&o.async===!0,s=!q&&!r&&!l;a.console&&a.console.log&&(a.console.error||(a.console.error=a.console.log),m=function(b){a.console.log(b)},n=function(b,c){a.console.error(b,c)}),a.$LAB=B(),function(a,b,c){document.readyState==null&&document[a]&&(document.readyState="loading",document[a](b,c=function(){document.removeEventListener(b,c,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")})(this)